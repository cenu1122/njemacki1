<script>
  const lessonBox = document.getElementById('lesson');
  const userInput = document.getElementById('userInput');

  const lessons = [
    { question: "Kako se kaÅ¾e 'Hello' na njemaÄkom?", answer: "Hallo" },
    { question: "Kako se kaÅ¾e 'Thank you' na njemaÄkom?", answer: "Danke" },
    { question: "Kako se kaÅ¾e 'Goodbye' na njemaÄkom?", answer: "TschÃ¼ss" }
  ];

  let currentLesson = 0;

  // Funkcija za "izgovor" teksta avatarom
  function speak(text) {
    if ('speechSynthesis' in window) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'de-DE'; // njemaÄki jezik
      speechSynthesis.speak(utterance);
    }
  }

  function showLesson() {
    lessonBox.innerHTML = `<p>${lessons[currentLesson].question}</p>`;
    speak(lessons[currentLesson].question);
  }

  function checkAnswer() {
    const answer = userInput.value.trim();
    if(answer.toLowerCase() === lessons[currentLesson].answer.toLowerCase()) {
      lessonBox.innerHTML = `<p>ToÄno! ğŸ˜Š</p>`;
      speak("Richtig!"); // avatar izgovara "ToÄno"
      currentLesson++;
      setTimeout(() => {
        if(currentLesson < lessons.length) {
          showLesson();
        } else {
          lessonBox.innerHTML = `<p>ÄŒestitamo! ZavrÅ¡ili ste lekciju. ğŸ‰</p>`;
          speak("Herzlichen GlÃ¼ckwunsch!"); // avatar Äestita
        }
      }, 1000);
    } else {
      lessonBox.innerHTML = `<p>Nije toÄno, pokuÅ¡aj ponovno! âŒ</p>`;
      speak("Falsch, versuche es noch einmal"); // avatar upozorava
    }
    userInput.value = '';
  }

  // Prikaz prve lekcije
  showLesson();
</script>
